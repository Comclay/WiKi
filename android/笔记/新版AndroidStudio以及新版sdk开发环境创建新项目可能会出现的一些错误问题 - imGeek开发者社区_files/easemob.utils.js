!function(e,t){"use strict";var n=n||{};n.utils=n.utils||{},n.utils.encode=function(e,t){if(!e||0===e.length)return"";var n="";return n=e.replace(/&amp;/g,"&"),n=n.replace(/<(?=[^o][^)])/g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/\"/g,"&quot;"),n=n.replace(/\n/g,"<br>")},n.utils.decode=function(e){if(!e||0===e.length)return"";var t="";return t=e.replace(/&amp;/g,"&")},n.utils.getIEVersion=function(){var e,t=navigator.userAgent,n={4:8,5:9,6:10,7:11};return e=t.match(/MSIE (\d+)/i),e&&e[1]?+e[1]:(e=t.match(/Trident\/(\d+)/i),e&&e[1]?n[e[1]]||null:null)},n.utils.queryString=function(e,t){var n=e.match(new RegExp("[?&]?"+t+"=[0-9a-zA-Z%@._-]*[^&]","g"));return n=n&&n[0]?"?"==n[0][0]||"&"==n[0][0]?n[0].slice(1):n[0]:"",n.slice(t.length+1)},n.utils.getConfig=function(e,t){var n;if(e&&t){for(var i=document.scripts,r=0,s=i.length;s>r;r++)if(i[r].src&&0<i[r].src.indexOf(e)){n=i[r].src;break}}else n=e?e:location.href;var o={};if(!n)return{str:"",json:o,domain:""};var a,u=n.indexOf("?"),c=n.indexOf("//")>-1?n.indexOf("//"):0,f=n.slice(c,n.indexOf("/",c+2)),g=n.slice(u+1).split("&");o.src=n.slice(0,u);for(var h=0,l=g.length;l>h;h++)a=g[h].split("="),o[a[0]]=a.length>1?decodeURIComponent(a[1]):"";return{str:n,json:o,domain:f}},n.utils.isAndroid=/Android/i.test(navigator.userAgent),n.utils.isMobile=/mobile/i.test(navigator.userAgent),n.utils.isQQBrowserInAndroid=n.utils.isAndroid&&/MQQBrowser/.test(navigator.userAgent);var i=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null};n.utils.on=i,n.utils.remove=r,n.utils.isMin=function(){return document.visibilityState&&"hidden"==document.visibilityState||document.hidden?!0:void 0};var s=function(){var t="postMessage"in e,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("#");return 0>n?!1:e.indexOf("#")>t&&n!=e.length?!0:void 0},r=function(e,t){var n=e.match(new RegExp(t+"\\w*"+t,"g"));return n&&n[0]?n[0].slice(t.length,-t.length):""},s=function(e,t){var n=e.toString(),i=t.match(new RegExp(n+"\\w*"+n,"g"));return i?i[0].slice(n.length,-n.length):""},o=function(e,t,n){return n.replace(new RegExp(e+"\\w*"+e,"g"),e+t+e)},a=function(e,t){return this instanceof a?(this.t=(new Date).getTime(),this.iframe=document.getElementById(e),this.prefix=t||"_em_",void delete this.t):new a};return a.prototype.sendToParent=function(n){if("string"!=typeof n)throw"msg must be string";return t?(e.parent.postMessage(n,"*"),this):this},a.prototype.sendToIframe=function(e){if("string"!=typeof e)throw"msg must be string";if(t)return this.iframe.contentWindow.postMessage(e,"*"),this;var i=this.iframe.getAttribute("src");return n(i)?s(this.prefix,i)?this.iframe.setAttribute("src",o(this.prefix,e,i)):this.iframe.setAttribute("src",i+"&"+this.prefix+e+this.prefix):this.iframe.setAttribute("src",i+="#"+this.prefix+e+this.prefix),this},a.prototype.listenToParent=function(n){if(t)return i(e,"message",function(e){n(e.data)}),this;if(e.onhashchange)e.onhashchange=function(){n(r(location.href,this.prefix))};else{var s=this,o=location.href;setInterval(function(){var e=location.href;e!=o&&(o=e,n(r(e,s.prefix)))},50)}return this},a.prototype.listenToIframe=function(n){return t&&i(e,"message",function(e){n(e.data)}),this},a}(),o={setcookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;expires="+n.toGMTString()},getcookie:function(e){var t=document.cookie.match("(^|;) ?"+encodeURIComponent(e)+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):""}};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},e.EasemobWidget=n,e.TransferMessage=s,e.Emc=o}(window,void 0);